# Processed Data

The files in this subdirectory are generated by scripts, and should automatically be generated with the following structure:
```
santa_clara/
    santa_clara_dist.tsv
    santa_clara_fac.tsv
    santa_clara_fac_nbr.tsv
    santa_clara_pop.tsv
    santa_clara_pop_nbr.tsv
```
The format of each type of file is explained below.

## Population File Format

A population file is generated for each location, summarizing population center-specific data in a standardized format. Each population file is a TSV file with the following columns:

* `id`: Index of the population center within this location. All population centers within a directory are given ascending integer indices starting with 0.
* `name`: A unique identifier given to this population center within its source file (e.g. FIPS code).
* `lat`: Latitude of centroid.
* `lon`: Longitude of centroid.
* `pop`: Population, as of the most recent available census or estimate (-1 for missing data).
* `vacc`: Vaccination rate (between 0.0 and 1.0), as of the most recent data (-1 for missing data).
* `adi`: 2022 [Area Deprivation Index (ADI)](https://www.nejm.org/doi/full/10.1056/NEJMp1802313) ranking (-1 for missing data).

Each location also has a population file that combines all neighboring locations, indicated by the `_nbr` suffix in the file name. Neighbor file indices pick up where the main file's indices left off, and they do not include `vacc` or `adi` fields.

## Facility File Format

A facility file is generated for each location, summarizing vaccination facility-specific data in a standardized format. Each facility file is a TSV file with the following columns:

* `id`: Index of the facilities center within this location. All facilities within a directory are given ascending integer indices starting with 0.
* `name`: An identifying string based on its source file (address, coordinates, etc.).
* `lat`: Latitude of facility.
* `lon`: Longitude of facility.
* `cap`: Capacity of facility (for now just 1 for everything, but might include something to account for resource limitations in the future).

Each location also has a facility file that combines all neighboring locations, indicated by the `_nbr` suffix in the file name. Neighbor file indices pick up where the main file's indices left off.

## Distance File Format

A distance file is generated for each location (including all neighbors), indicating the expected travel time between every possible origin/destination pair. Each distance file is a TSV file with the following columns:

* `pid`: Index of a population center defined in the population file.
* `fid`: Index of a facility defined in the facility file.
* `pftime`: Travel time (minutes) from the indicated population center to the indicated facility.
* `fptime`: Travel time (minutes) from the indicated facility to the indicated population center.
